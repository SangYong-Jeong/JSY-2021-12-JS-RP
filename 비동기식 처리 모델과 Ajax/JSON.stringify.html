<script>
  const o = { name: 'Lee', gender: 'male', age: 20 };

  // 객체 => JSON 형식의 문자열
  const strObject = JSON.stringify(o);
  console.log(typeof strObject, strObject);
  // string {"name":"Lee","gender":"male","age":20}

  // 객체 => JSON 형식의 문자열 + prettify
  const strPrettyObject = JSON.stringify(o, null, 2);
  console.log(typeof strPrettyObject, strPrettyObject);
  /*
string {
  "name": "Lee",
  "gender": "male",
  "age": 20
}
*/

  // replacer
  // 값의 타입이 Number이면 필터링되어 반환되지 않는다.
  function filter(key, value) {
    // undefined: 반환하지 않음
    console.log(key);
    console.log(value);
    return typeof value === 'number' ? undefined : value;
  }

  // 객체 => JSON 형식의 문자열 + replacer + prettify
  const strFilteredObject = JSON.stringify(o, filter, 2);
  console.log(typeof strFilteredObject, strFilteredObject);
  /*
string {
  "name": "Lee",
  "gender": "male"
}
*/

  const arr = [1, 5, 'false'];
  console.log(typeof arr);
  // 배열 객체 => 문자열
  const strArray = JSON.stringify(arr);
  console.log(typeof strArray, strArray); // string [1,5,"false"]

  // replacer
  // 모든 값을 대문자로 변환된 문자열을 반환한다
  function replaceToUpper(key, value) {
    console.log(key);
    console.log(value);
    console.log(JSON.parse(JSON.stringify(value)));
    return value.toString().toUpperCase();
  }

  // 배열 객체 => 문자열 + replacer
  const strFilteredArray = JSON.stringify(arr, replaceToUpper);
  console.log(typeof strFilteredArray, strFilteredArray); // string "1,5,FALSE"
</script>
