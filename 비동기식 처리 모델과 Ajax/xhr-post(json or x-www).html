<script>
  // json으로 전송하는 경우
  xhr.open('POST', '/users');

  // 클라이언트가 서버로 전송할 데이터의 MIME-type 지정: json
  xhr.setRequestHeader('Content-type', 'application/json');

  const data = { id: 3, title: 'JavaScript', author: 'Park', price: 5000 };

  xhr.send(JSON.stringify(data));

  // x-www-form-urlencoded으로 전송하는 경우
  xhr.open('POST', '/users');

  // 클라이언트가 서버로 전송할 데이터의 MIME-type 지정: x-www-form-urlencoded
  // application/x-www-form-urlencoded는 key=value&key=value...의 형태로 전송
  xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');

  const data = { title: 'JavaScript', author: 'Park', price: 5000 };

  xhr.send(
    Object.keys(data)
      .map((key) => `${key}=${data[key]}`)
      .join('&')
  );
  // escaping untrusted data
  // xhr.send(Object.keys(data).map(key => `${key}=${encodeURIComponent(data[key])}`).join('&'));
</script>
